(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-750b30ca"],{"0823":function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("76f3");e["a"]={name:"bm-map-type",render:function(){},mixins:[Object(i["a"])("control")],props:["type","mapTypes","anchor","offset"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},mapTypes:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.anchor,a=this.offset,s=this.type,r=[];this.mapTypes&&this.mapTypes.forEach((function(e){return r.push(t[e])})),this.originInstance=new e.MapTypeControl({anchor:t[i],offset:a&&Object(o["e"])(e,a),type:t[s],mapTypes:r}),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},"165e":function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("4fab"),a=n("76f3");e["a"]={name:"bm-marker",mixins:[Object(i["a"])("overlay")],props:{position:{},offset:{},icon:{},massClear:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1},clicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{type:String},rotation:{type:Number},shadow:{type:Object},title:{type:String},label:{type:Object},animation:{type:String},top:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},watch:{"position.lng":function(t,e){var n=this.BMap,i=this.originInstance,o=this.position,s=this.renderByParent,r=this.$parent;t!==e&&t>=-180&&t<=180&&i.setPosition(Object(a["d"])(n,{lng:t,lat:o.lat})),s&&r.reload()},"position.lat":function(t,e){var n=this.BMap,i=this.originInstance,o=this.position,s=this.renderByParent,r=this.$parent;t!==e&&t>=-74&&t<=74&&i.setPosition(Object(a["d"])(n,{lng:o.lng,lat:t})),s&&r.reload()},"offset.width":function(t,e){var n=this.BMap,i=this.originInstance;t!==e&&i.setOffset(new n.Size(t,this.offset.height))},"offset.height":function(t,e){var n=this.BMap,i=this.originInstance;t!==e&&i.setOffset(new n.Size(this.offset.width,t))},icon:{deep:!0,handler:function(t){var e=this.BMap,n=this.originInstance,i=this.rotation;n&&n.setIcon(Object(a["b"])(e,t)),i&&n&&n.setRotation(i)}},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},dragging:function(t){t?this.originInstance.enableDragging():this.originInstance.disableDragging()},clicking:function(){this.reload()},raiseOnDrag:function(){this.reload()},draggingCursor:function(t){this.originInstance.setDraggingCursor(t)},rotation:function(t){this.originInstance.setRotation(t)},shadow:function(t){this.originInstance.setShadow(t)},title:function(t){this.originInstance.setTitle(t)},label:function(t){this.reload()},animation:function(e){this.originInstance.setAnimation(t[e])},top:function(t){this.originInstance.setTop(t)},zIndex:function(t){this.originInstance.setZIndex(t)}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.position,s=this.offset,r=this.icon,l=this.massClear,c=this.dragging,h=this.clicking,u=this.raiseOnDrag,p=this.draggingCursor,d=this.rotation,f=this.shadow,g=this.title,m=this.label,y=this.animation,v=this.top,b=this.renderByParent,_=this.$parent,w=this.zIndex,x=new e.Marker(new e.Point(i.lng,i.lat),{offset:s,icon:r&&Object(a["b"])(e,r),enableMassClear:l,enableDragging:c,enableClicking:h,raiseOnDrag:u,draggingCursor:p,rotation:d,shadow:f,title:g});this.originInstance=x,m&&x&&x.setLabel(Object(a["c"])(e,m)),x.setTop(v),x.setZIndex(w),o["a"].call(this,x),b?_.reload():n.addOverlay(x),x.setAnimation(t[y])}}}}).call(this,n("c8ba"))},"16d1":function(t,e,n){"use strict";(function(t){var i=n("76f3"),o=n("33d3"),a=n("2da4");e["a"]={name:"bm-transit",mixins:[Object(a["a"])("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},policy:{type:String},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},start:{handler:function(t){var e=this.originInstance,n=this.end,i=this.BMap;e.search(Object(o["b"])(i,t),Object(o["b"])(i,n))},deep:!0},end:{handler:function(t){var e=this.originInstance,n=this.start,i=this.BMap;e.search(Object(o["b"])(i,n),Object(o["b"])(i,t))},deep:!0},panel:function(){this.reload()},policy:function(e){this.originInstance.setPolicy(t[e])},pageCapacity:function(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport:function(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(t,e){var n=this.originInstance;n.search(t,e)},load:function(){var e=this,n=this.map,a=this.BMap,s=this.location,r=this.policy,l=this.pageCapacity,c=this.selectFirstResult,h=this.autoViewport,u=this.highlightMode,p=this.search,d=this.start,f=this.end,g=this.originInstance,m=s?Object(o["c"])(s)?Object(i["d"])(a,s):s:n,y=this.originInstance=new a.TransitRoute(m,{renderOptions:{map:n,panel:this.$el,selectFirstResult:c,autoViewport:h,highlightMode:u},policy:t[r],pageCapacity:l,onSearchComplete:function(t){g&&g!==y&&g.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});p(Object(o["c"])(d)?Object(i["d"])(a,d):d,Object(o["c"])(f)?Object(i["d"])(a,f):f)}}}}).call(this,n("c8ba"))},"2da4":function(t,e,n){"use strict";const i={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},o=t=>t.abstract||t.$el===t.$children[0].$el?o(t.$parent):t;function a(){const{unload:t,renderByParent:e,$parent:n}=this;e&&n.reload(),t()}class s{constructor(t){this.methods={ready(){const t=o(this.$parent),e=this.BMap=t.BMap,n=this.map=t.map;this.load(),this.$emit("ready",{BMap:e,map:n})},transmitEvent(t){this.$emit(t.type.replace(/^on/,""),t)},reload(){this&&this.BMap&&this.$nextTick(()=>{this.unload(),this.$nextTick(this.load)})},unload(){const{map:e,originInstance:n}=this;try{switch(t.type){case"search":return n.clearResults();case"autoComplete":case"lushu":return n.dispose();case"markerClusterer":return n.clearMarkers();default:e[i[t.type].unload](n)}}catch(o){}}},this.computed={renderByParent(){return this.$parent.preventChildrenRender}},this.mounted=function(){const t=o(this.$parent),e=t.map,{ready:n}=this;e?n():t.$on("ready",n)},this.destroyed=a,this.beforeDestroy=a}}e["a"]=t=>new s({type:t})},"33d3":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var i=n("76f3");const o=t=>t.lng&&t.lat,a=t=>Object.prototype.toString.call(t).slice(8,-1),s=(t,e)=>o(e)?Object(i["d"])(t,e):e},"35eb":function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){function t(t,n){try{BMap}catch(a){throw Error("Baidu Map JS API is not ready yet!")}var i=e(t),o=new BMap.Polyline(i,n);return o.addEventListener("lineupdate",(function(){this.isEditing&&this.enableEditing()})),o.cornerPoints=t,o.editMarkers=[],o.enableEditing=function(){var t=this;if(t.map){t.disableEditing();for(var n=0;n<t.cornerPoints.length;n++){var i=new BMap.Marker(t.cornerPoints[n],{icon:new BMap.Icon("http://api.map.baidu.com/library/CurveLine/1.5/src/circle.png",new BMap.Size(16,16)),enableDragging:!0,raiseOnDrag:!0});i.addEventListener("dragend",(function(){t.cornerPoints.length=0;for(var n=0;n<t.editMarkers.length;n++)t.cornerPoints.push(t.editMarkers[n].getPosition());var i=e(t.cornerPoints);t.setPath(i)})),i.index=n,t.editMarkers.push(i),t.map.addOverlay(i)}}t.isEditing=!0},o.disableEditing=function(){this.isEditing=!1;for(var t=0;t<this.editMarkers.length;t++)this.map.removeOverlay(this.editMarkers[t]),this.editMarkers[t]=null;this.editMarkers.length=0},o.getPath=function(){return i},o}function e(t){for(var e=[],i=0;i<t.length-1;i++){var o=n(t[i],t[i+1]);o&&o.length>0&&(e=e.concat(o))}return e}function n(t,e){var n=[];if(!t||!e||!(t instanceof BMap.Point)||!(e instanceof BMap.Point))return null;var i,o,a,s,r,l,c=function(t){return 1-2*t+t*t},h=function(t){return 2*t-2*t*t},u=function(t){return t*t},p=30,d=0,f=0;if("undefined"!=typeof e){var g=parseFloat(t.lat),m=parseFloat(e.lat),y=parseFloat(t.lng),v=parseFloat(e.lng);for(v>y&&parseFloat(v-y)>180&&y<0&&(y=parseFloat(360+y)),y>v&&parseFloat(y-v)>180&&v<0&&(v=parseFloat(360+v)),0,l=0,m==g?(i=0,o=y-v):v==y?(i=Math.PI/2,o=g-m):(i=Math.atan((m-g)/(v-y)),o=(m-g)/Math.sin(i)),0==l&&(l=i+Math.PI/5),a=o/2,r=a*Math.cos(l)+y,s=a*Math.sin(l)+g,d=0;d<p+1;d++)n.push(new BMap.Point(y*c(f)+r*h(f)+v*u(f),g*c(f)+s*h(f)+m*u(f))),f+=1/p;return n}"undefined"!=typeof n&&(n=[])}return t}))},4136:function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("76f3");e["a"]={name:"bm-panorama",mixins:[Object(i["a"])("control")],render:function(){},props:["anchor","offset"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.anchor,a=this.offset;this.originInstance=new e.PanoramaControl({anchor:t[i],offset:a&&Object(o["e"])(e,a)}),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},4757:function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("4fab"),a=n("76f3");e["a"]={name:"bm-geolocation",render:function(){},mixins:[Object(i["a"])("control")],props:{anchor:{type:String},offset:{type:Object},showAddressBar:{type:Boolean},autoLocation:{type:Boolean},locationIcon:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},showAddressBar:function(){this.reload()},autoLocation:function(){this.reload()},locationIcon:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.anchor,s=this.showAddressBar,r=this.autoLocation,l=this.locationIcon,c=this.offset;this.originInstance=new e.GeolocationControl({anchor:t[i],showAddressBar:s,enableAutoLocation:r,offset:c&&Object(a["e"])(e,c),locationIcon:l&&Object(a["b"])(e,l)}),o["a"].call(this,this.originInstance),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},"4b0c":function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){var t={dom:{}};t.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},t.g=t.G=t.dom.g,t.lang=t.lang||{},t.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},t.isString=t.lang.isString,t.dom._g=function(e){return t.lang.isString(e)?document.getElementById(e):e},t._g=t.dom._g,t.dom.getDocument=function(e){return e=t.dom.g(e),9==e.nodeType?e:e.ownerDocument||e.document},t.browser=t.browser||{},t.browser.ie=t.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp["$1"]:void 0,t.dom.getComputedStyle=function(e,n){e=t.dom._g(e);var i,o=t.dom.getDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(e,null),i)?i[n]||i.getPropertyValue(n):""},t.dom._styleFixer=t.dom._styleFixer||{},t.dom._styleFilter=t.dom._styleFilter||[],t.dom._styleFilter.filter=function(e,n,i){for(var o,a=0,s=t.dom._styleFilter;o=s[a];a++)(o=o[i])&&(n=o(e,n));return n},t.string=t.string||{},t.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,(function(t){return t.charAt(1).toUpperCase()}))},t.dom.getStyle=function(e,n){var i=t.dom;e=i.g(e),n=t.string.toCamelCase(n);var o=e.style[n]||(e.currentStyle?e.currentStyle[n]:"")||i.getComputedStyle(e,n);if(!o){var a=i._styleFixer[n];a&&(o=a.get?a.get(e):t.dom.getStyle(e,a))}return(a=i._styleFilter)&&(o=a.filter(n,o,"get")),o},t.getStyle=t.dom.getStyle,t.dom._NAME_ATTRS=function(){var e={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};return t.browser.ie<8?(e["for"]="htmlFor",e["class"]="className"):(e["htmlFor"]="for",e["className"]="class"),e}(),t.dom.setAttr=function(e,n,i){return e=t.dom.g(e),"style"==n?e.style.cssText=i:(n=t.dom._NAME_ATTRS[n]||n,e.setAttribute(n,i)),e},t.setAttr=t.dom.setAttr,t.dom.setAttrs=function(e,n){for(var i in e=t.dom.g(e),n)t.dom.setAttr(e,i,n[i]);return e},t.setAttrs=t.dom.setAttrs,t.dom.create=function(e,n){var i=document.createElement(e),o=n||{};return t.dom.setAttrs(i,o)},t.object=t.object||{},t.extend=t.object.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};var e=function(t,e,n){try{BMap}catch(i){throw Error("Baidu Map JS API is not ready yet!")}!e||e.length<1||(this._map=t,this._path=e,this.i=0,this._setTimeoutQuene=[],this._projection=this._map.getMapType().getProjection(),this._opts={icon:null,speed:4e3,defaultContent:"",showInfoWindow:!1},this._setOptions(n),this._rotation=0,!this._opts.icon instanceof BMap.Icon&&(this._opts.icon=defaultIcon))};function n(t,e){this._point=t,this._html=e}function i(){n.prototype=new BMap.Overlay,n.prototype.initialize=function(e){var n=this._div=t.dom.create("div",{style:"border:solid 1px #ccc;width:auto;min-width:50px;text-align:center;position:absolute;background:#fff;color:#000;font-size:12px;border-radius: 10px;padding:5px;white-space: nowrap;"});return n.innerHTML=this._html,e.getPanes().floatPane.appendChild(n),this._map=e,n},n.prototype.draw=function(){this.setPosition(this.lushuMain._marker.getPosition(),this.lushuMain._marker.getIcon().size)},t.object.extend(n.prototype,{setPosition:function(e,n){var i=this._map.pointToOverlayPixel(e),o=t.dom.getStyle(this._div,"width"),a=t.dom.getStyle(this._div,"height"),s=parseInt(this._div.clientWidth||o,10);parseInt(this._div.clientHeight||a,10);this._div.style.left=i.x-s/2+"px",this._div.style.bottom=-(i.y-n.height)+"px"},setHtml:function(t){this._div.innerHTML=t},setRelatedClass:function(t){this.lushuMain=t}})}return e.prototype._setOptions=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this._opts[e]=t[e])},e.prototype.start=function(){var t=this,e=t._path.length;if(this._opts.onstart&&this._opts.onstart(t),t.i&&t.i<e-1){if(!t._fromPause)return;t._fromStop||t._moveNext(++t.i)}else!t._marker&&t._addMarker(),t._timeoutFlag=setTimeout((function(){!t._overlay&&t._addInfoWin(),t._moveNext(t.i)}),400);this._fromPause=!1,this._fromStop=!1},e.prototype.stop=function(){this.i=0,this._fromStop=!0,clearInterval(this._intervalFlag),this._clearTimeout();for(var t=0,e=this._opts.landmarkPois,n=e.length;t<n;t++)e[t].bShow=!1;this._opts.onstop&&this._opts.onstop(this)},e.prototype.pause=function(){clearInterval(this._intervalFlag),this._fromPause=!0,this._clearTimeout(),this._opts.onpause&&this._opts.onpause(this)},e.prototype.hideInfoWindow=function(){this._opts.showInfoWindow=!1,this._overlay&&(this._overlay._div.style.visibility="hidden")},e.prototype.showInfoWindow=function(){this._opts.showInfoWindow=!0,this._overlay&&(this._overlay._div.style.visibility="visible")},e.prototype.dispose=function(){clearInterval(this._intervalFlag),this._setTimeoutQuene&&this._clearTimeout(),this._map&&(this._map.removeOverlay(this._overlay),this._map.removeOverlay(this._marker))},t.object.extend(e.prototype,{_addMarker:function(t){this._marker&&(this.stop(),this._map.removeOverlay(this._marker),clearTimeout(this._timeoutFlag)),this._overlay&&this._map.removeOverlay(this._overlay);var e=new BMap.Marker(this._path[0]);this._opts.icon&&e.setIcon(this._opts.icon),this._map.addOverlay(e),e.setAnimation(BMAP_ANIMATION_DROP),this._marker=e},_addInfoWin:function(){var t=this;!n.prototype.initialize&&i();var e=new n(t._marker.getPosition(),t._opts.defaultContent);e.setRelatedClass(this),this._overlay=e,this._map.addOverlay(e),this._opts.showInfoWindow?this.showInfoWindow():this.hideInfoWindow()},_getMercator:function(t){return this._map.getMapType().getProjection().lngLatToPoint(t)},_getDistance:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_move:function(t,e,n){var i=this,o=0,a=10,s=this._opts.speed/(1e3/a),r=this._projection.lngLatToPoint(t),l=this._projection.lngLatToPoint(e),c=Math.round(i._getDistance(r,l)/s);c<1?i._moveNext(++i.i):i._intervalFlag=setInterval((function(){if(o>=c){if(clearInterval(i._intervalFlag),i.i>i._path.length)return;i._moveNext(++i.i)}else{o++;var a=n(r.x,l.x,o,c),s=n(r.y,l.y,o,c),h=i._projection.pointToLngLat(new BMap.Pixel(a,s));if(1==o){var u=null;i.i-1>=0&&(u=i._path[i.i-1]),1==i._opts.enableRotation&&i.setRotation(u,t,e),i._opts.autoView&&(i._map.getBounds().containsPoint(h)||i._map.setCenter(h))}i._marker.setPosition(h),i._setInfoWin(h)}}),a)},setRotation:function(t,e,n){var i=this,o=0;if(e=i._map.pointToPixel(e),n=i._map.pointToPixel(n),n.x!=e.x){var a=(n.y-e.y)/(n.x-e.x),s=Math.atan(a);o=360*s/(2*Math.PI),o=n.x<e.x?90-o+90:-o,i._marker.setRotation(-o)}else{var r=n.y-e.y,l=0;l=r>0?-1:1,i._marker.setRotation(90*-l)}},linePixellength:function(t,e){return Math.sqrt(Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y))},pointToPoint:function(t,e){return Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y)},_moveNext:function(t){var e=this;t<this._path.length-1?e._move(e._path[t],e._path[t+1],e._tween.linear):e.stop()},_setInfoWin:function(t){var e=this;e._overlay.setPosition(t,e._marker.getIcon().size);var n=e._troughPointIndex(t);-1!=n?(clearInterval(e._intervalFlag),e._overlay.setHtml(e._opts.landmarkPois[n].html),e._overlay.setPosition(t,e._marker.getIcon().size),e._pauseForView(n)):e._overlay.setHtml(e._opts.defaultContent)},_pauseForView:function(t){var e=this,n=setTimeout((function(){e._moveNext(++e.i)}),1e3*e._opts.landmarkPois[t].pauseTime);e._setTimeoutQuene.push(n)},_clearTimeout:function(){for(var t in this._setTimeoutQuene)clearTimeout(this._setTimeoutQuene[t]);this._setTimeoutQuene.length=0},_tween:{linear:function(t,e,n,i){var o=t,a=e-t,s=n,r=i;return a*s/r+o}},_troughPointIndex:function(t){for(var e,n=this._opts.landmarkPois,i=0,o=n.length;i<o;i++)if(!n[i].bShow&&(e=this._map.getDistance(new BMap.Point(n[i].lng,n[i].lat),t),e<10))return n[i].bShow=!0,i;return-1}}),e}))},"4fab":function(t,e,n){"use strict";var i={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};e["a"]=function(t,e){const n=e||i[this.$options.name];n&&n.forEach(e=>{const n="on"===e.slice(0,2),i=n?e.slice(2):e,o=this.$listeners[i];o&&t.addEventListener(e,o.fns)})}},"57ff":function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){function t(t,e,n){var i,o,a=t.prototype,s=new Function;for(i in s.prototype=e.prototype,o=t.prototype=new s,a)o[i]=a[i];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof n&&(o._className=n)}var e=function(){var t=function(t){var e={data:[],heatmap:t};this.max=1,this.get=function(t){return e[t]},this.set=function(t,n){e[t]=n}};t.prototype={addDataPoint:function(t,e){if(!(t<0||e<0)){var n=this,i=n.get("heatmap"),o=n.get("data");if(o[t]||(o[t]=[]),o[t][e]||(o[t][e]=0),o[t][e]+=arguments.length<3?1:arguments[2],n.set("data",o),n.max<o[t][e])return i.get("actx").clearRect(0,0,i.get("width"),i.get("height")),void n.setDataSet({max:o[t][e],data:o},!0);i.drawAlpha(t,e,o[t][e],!0)}},setDataSet:function(t,e){var n=this,i=n.get("heatmap"),o=[],a=t.data,s=a.length;if(i.clear(),this.max=t.max,i.get("legend")&&i.get("legend").update(t.max),null!=e&&e){for(var r in a)if(void 0!==r)for(var l in a[r])void 0!==l&&i.drawAlpha(r,l,a[r][l],!1)}else while(s--){var c=a[s];i.drawAlpha(c.x,c.y,c.count,!1),o[c.x]||(o[c.x]=[]),o[c.x][c.y]||(o[c.x][c.y]=0),o[c.x][c.y]=c.count}i.colorize(),this.set("data",a)},exportDataSet:function(){var t=this,e=t.get("data"),n=[];for(var i in e)if(void 0!==i)for(var o in e[i])void 0!==o&&n.push({x:parseInt(i,10),y:parseInt(o,10),count:e[i][o]});return{max:t.max,data:n}},generateRandomDataSet:function(t){var e=this.get("heatmap"),n=e.get("width"),i=e.get("height"),o={},a=Math.floor(1e3*Math.random()+1);o.max=a;var s=[];while(t--)s.push({x:Math.floor(Math.random()*n+1),y:Math.floor(Math.random()*i+1),count:Math.floor(Math.random()*a+1)});o.data=s,this.setDataSet(o)}};var e=function(t){this.config=t;var e={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(t){return e[t]},this.set=function(t,n){e[t]=n},this.init()};e.prototype={init:function(){var t,e,n=this,i=n.config,o=i.title||"Legend",a=i.position,s=i.offset||10,r=(i.gradient,document.createElement("ul")),l="";n.processGradientObject(),a.indexOf("t")>-1?l+="top:"+s+"px;":l+="bottom:"+s+"px;",a.indexOf("l")>-1?l+="left:"+s+"px;":l+="right:"+s+"px;",t=document.createElement("div"),t.style.cssText="border-radius:5px;position:absolute;"+l+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;",t.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+o+"</h3>",r.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;",e=document.createElement("div"),e.style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",n.createGradientImage(),");"].join(""),t.appendChild(r),t.appendChild(e),n.set("element",t),n.set("labelsEl",r),n.update(1)},processGradientObject:function(){var t=this,e=this.config.gradient,n=[];for(var i in e)e.hasOwnProperty(i)&&n.push({stop:i,value:e[i]});n.sort((function(t,e){return t.stop-e.stop})),n.unshift({stop:0,value:"rgba(0,0,0,0)"}),t.set("gradientArr",n)},createGradientImage:function(){var t,e=this,n=e.get("gradientArr"),i=n.length,o=document.createElement("canvas"),a=o.getContext("2d");o.width="256",o.height="15",t=a.createLinearGradient(0,5,256,10);for(var s=0;s<i;s++)t.addColorStop(1/(i-1)*s,n[s].value);a.fillStyle=t,a.fillRect(0,5,256,10),a.strokeStyle="black",a.beginPath();for(s=0;s<i;s++)a.moveTo(.5+(1/(i-1)*s*256>>0),0),a.lineTo(.5+(1/(i-1)*s*256>>0),0==s?15:5);return a.moveTo(255.5,0),a.lineTo(255.5,15),a.moveTo(255.5,4.5),a.lineTo(0,4.5),a.stroke(),e.set("ctx",a),o.toDataURL()},getElement:function(){return this.get("element")},update:function(t){for(var e,n,i=this,o=i.get("gradientArr"),a=i.get("ctx"),s=i.get("labelsEl"),r="",l=0;l<o.length;l++)e=t*o[l].stop>>0,n=a.measureText(e).width/2>>0,0==l&&(n=0),l==o.length-1&&(n*=2),r+='<li style="position:absolute;left:'+(((1/(o.length-1)*l*256||0)>>0)-n+.5)+'px">'+e+"</li>";s.innerHTML=r}};var n=function(e){var n={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1};this.store=new t(this),this.get=function(t){return n[t]},this.set=function(t,e){n[t]=e},this.configure(e),this.init()};return n.prototype={configure:function(t){var n=this;if(n.set("radius",t["radius"]||40),n.set("element",t.element instanceof Object?t.element:document.getElementById(t.element)),n.set("visible",null==t.visible||t.visible),n.set("max",t.max||!1),n.set("gradient",t.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}),n.set("opacity",parseInt(255/(100/t.opacity),10)||180),n.set("width",t.width||0),n.set("height",t.height||0),n.set("debug",t.debug),t.legend){var i=t.legend;i.gradient=n.get("gradient"),n.set("legend",new e(i))}},resize:function(){var t=this,e=t.get("element"),n=t.get("canvas"),i=t.get("acanvas");n.width=i.width=t.get("width")||e.style.width.replace(/px/,"")||t.getWidth(e),this.set("width",n.width),n.height=i.height=t.get("height")||e.style.height.replace(/px/,"")||t.getHeight(e),this.set("height",n.height)},init:function(){var t=this,e=document.createElement("canvas"),n=document.createElement("canvas"),i=e.getContext("2d"),o=n.getContext("2d"),a=t.get("element");t.initColorPalette(),t.set("canvas",e),t.set("ctx",i),t.set("acanvas",n),t.set("actx",o),t.resize(),e.style.cssText=n.style.cssText="position:absolute;top:0;left:0;z-index:10000000;",t.get("visible")||(e.style.display="none"),a.appendChild(e),t.get("legend")&&a.appendChild(t.get("legend").getElement()),t.get("debug")&&document.body.appendChild(n),o.shadowOffsetX=15e3,o.shadowOffsetY=15e3,o.shadowBlur=15},initColorPalette:function(){var t,e,n,i=this,o=document.createElement("canvas"),a=i.get("gradient");for(var s in o.width="1",o.height="256",t=o.getContext("2d"),e=t.createLinearGradient(0,0,1,256),n=t.getImageData(0,0,1,1),n.data[0]=n.data[3]=64,n.data[1]=n.data[2]=0,t.putImageData(n,0,0),n=t.getImageData(0,0,1,1),i.set("premultiplyAlpha",n.data[0]<60||n.data[0]>70),a)e.addColorStop(s,a[s]);t.fillStyle=e,t.fillRect(0,0,1,256),i.set("gradient",t.getImageData(0,0,1,256).data)},getWidth:function(t){var e=t.offsetWidth;return t.style.paddingLeft&&(e+=t.style.paddingLeft),t.style.paddingRight&&(e+=t.style.paddingRight),e},getHeight:function(t){var e=t.offsetHeight;return t.style.paddingTop&&(e+=t.style.paddingTop),t.style.paddingBottom&&(e+=t.style.paddingBottom),e},colorize:function(t,e){var n,i,o,a,s,r,l,c,h,u=this,p=u.get("width"),d=u.get("radius"),f=u.get("height"),g=u.get("actx"),m=u.get("ctx"),y=3*d,v=u.get("premultiplyAlpha"),b=u.get("gradient"),_=u.get("opacity"),w=u.get("bounds");null!=t&&null!=e?(t+y>p&&(t=p-y),t<0&&(t=0),e<0&&(e=0),e+y>f&&(e=f-y),n=t,i=e,a=t+y,o=e+y):(n=w["l"]<0?0:w["l"],a=w["r"]>p?p:w["r"],i=w["t"]<0?0:w["t"],o=w["b"]>f?f:w["b"]),s=g.getImageData(n,i,a-n,o-i),r=s.data.length;for(var x=3;x<r;x+=4)l=s.data[x],c=4*l,c&&(h=l<_?l:_,s.data[x-3]=b[c],s.data[x-2]=b[c+1],s.data[x-1]=b[c+2],v&&(s.data[x-3]/=255/h,s.data[x-2]/=255/h,s.data[x-1]/=255/h),s.data[x]=h);m.putImageData(s,n,i)},drawAlpha:function(t,e,n,i){var o=this,a=o.get("radius"),s=o.get("actx"),r=(o.get("max"),o.get("bounds")),l=t-1.5*a>>0,c=e-1.5*a>>0,h=t+1.5*a>>0,u=e+1.5*a>>0;s.shadowColor="rgba(0,0,0,"+(n?n/o.store.max:"0.1")+")",s.shadowOffsetX=15e3,s.shadowOffsetY=15e3,s.shadowBlur=15,s.beginPath(),s.arc(t-15e3,e-15e3,a,0,2*Math.PI,!0),s.closePath(),s.fill(),i?o.colorize(l,c):(l<r["l"]&&(r["l"]=l),c<r["t"]&&(r["t"]=c),h>r["r"]&&(r["r"]=h),u>r["b"]&&(r["b"]=u))},toggleDisplay:function(){var t=this,e=t.get("visible"),n=t.get("canvas");n.style.display=e?"none":"block",t.set("visible",!e)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var t=this,e=t.get("width"),n=t.get("height");t.store.set("data",[]),t.get("ctx").clearRect(0,0,e,n),t.get("actx").clearRect(0,0,e,n)},cleanup:function(){var t=this;t.get("element").removeChild(t.get("canvas"))}},{create:function(t){return new n(t)},util:{mousePosition:function(t){var e,n;if(t.layerX?(e=t.layerX,n=t.layerY):t.offsetX&&(e=t.offsetX,n=t.offsetY),"undefined"!=typeof e)return[e,n]}}}}(),n=function(e){try{BMap}catch(o){throw Error("Baidu Map JS API is not ready yet!")}if(!n._isExtended){n._isExtended=!0,t(n,BMap.Overlay,"HeatmapOverlay");var i=new n(e);this.__proto__=i.__proto__}this.conf=e,this.heatmap=null,this.latlngs=[],this.bounds=null,this._moveendHandler=this._moveendHandler.bind(this)};return n.prototype.initialize=function(t){this._map=t;var n=document.createElement("div");return n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.border=0,n.style.width=this._map.getSize().width+"px",n.style.height=this._map.getSize().height+"px",this.conf.element=n,t.getPanes().mapPane.appendChild(n),this.heatmap=e.create(this.conf),this._div=n,n},n.prototype.draw=function(){var t=this._map.getBounds();if(!t.equals(this.bounds)){this.bounds=t;var e=this._map.pointToOverlayPixel(t.getNorthEast()),n=this._map.pointToOverlayPixel(t.getSouthWest());if(e&&n){var i=e.y,o=n.x,a=n.y-e.y,s=e.x-n.x;if(this.conf.element.style.left=o+"px",this.conf.element.style.top=i+"px",this.conf.element.style.width=s+"px",this.conf.element.style.height=a+"px",this.heatmap.store.get("heatmap").resize(),this.latlngs.length>0){this.heatmap.clear();var r=this.latlngs.length,l={max:this.heatmap.store.max,data:[]};while(r--){var c=this.latlngs[r].latlng;if(t.containsPoint(c)){var h=this._map.pointToOverlayPixel(c),u=new BMap.Pixel(h.x-o,h.y-i),p=this.pixelTransform(u);l.data.push({x:p.x,y:p.y,count:this.latlngs[r].c})}}this.heatmap.store.setDataSet(l)}}}},n.prototype.pixelTransform=function(t){var e=this.heatmap.get("width"),n=this.heatmap.get("height");while(t.x<0)t.x+=e;while(t.x>e)t.x-=e;while(t.y<0)t.y+=n;while(t.y>n)t.y-=n;return t.x=t.x>>0,t.y=t.y>>0,t},n.prototype._moveendHandler=function(t){this.setDataSet(this._data),delete this._data,this._map.removeEventListener("moveend",this._moveendHandler)},n.prototype.setDataSet=function(t){if(this._map){var e=this._map.getBounds(),n=this._map.pointToOverlayPixel(e.getNorthEast()),i=this._map.pointToOverlayPixel(e.getSouthWest());n&&i||(this._data=t,this._map.addEventListener("moveend",this._moveendHandler));var o={max:t.max,data:[]},a=t.data,s=a.length;this.latlngs=[];while(s--){var r=new BMap.Point(a[s].lng,a[s].lat);if(this.latlngs.push({latlng:r,c:a[s].count}),e.containsPoint(r)){var l=this._map.pointToOverlayPixel(r),c=this._map.pointToOverlayPixel(e.getSouthWest()).x,h=this._map.pointToOverlayPixel(e.getNorthEast()).y,u=new BMap.Pixel(l.x-c,l.y-h),p=this.pixelTransform(u);o.data.push({x:p.x,y:p.y,count:a[s].count})}}this.heatmap.clear(),this.heatmap.store.setDataSet(o)}},n.prototype.addDataPoint=function(t,e,n){var i=new BMap.Point(t,e),o=this.pixelTransform(this._map.pointToOverlayPixel(i));this.heatmap.store.addDataPoint(o.x,o.y,n),this.latlngs.push({latlng:i,c:n})},n.prototype.toggle=function(){this.heatmap.toggleDisplay()},n}))},6160:function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("76f3");e["a"]={name:"bm-city-list",render:function(){},mixins:[Object(i["a"])("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.anchor,a=this.offset,s=this;this.originInstance=new e.CityListControl({anchor:t[i],offset:a&&Object(o["e"])(e,a),onChangeBefore:function(){s.$emit("changeBefore")},onChangeAfter:function(){s.$emit("changeAfter")}}),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},"6a21":function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("76f3");e["a"]={name:"bm-scale",render:function(){},mixins:[Object(i["a"])("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.anchor,a=this.offset;this.originInstance=new e.ScaleControl({anchor:t[i],offset:a&&Object(o["e"])(e,a)}),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},"76f3":function(t,e,n){"use strict";function i(t,e={}){const{lng:n,lat:i}=e;return new t.Point(n,i)}function o(t,e={}){const{sw:n,ne:o}=e;return new t.Bounds(i(t,n),i(t,o))}function a(t,e={}){const{width:n,height:i}=e;return new t.Size(n,i)}function s(t,e={}){const{url:n,size:i,opts:o={}}=e;return new t.Icon(n,a(t,i),{anchor:o.anchor&&a(t,o.anchor),imageSize:o.imageSize&&a(t,o.imageSize),imageOffset:o.imageOffset&&a(t,o.imageOffset),infoWindowAnchor:o.infoWindowAnchor&&a(t,o.infoWindowAnchor),printImageUrl:o.printImageUrl})}function r(t,e={}){const{content:n,opts:o}=e;return new t.Label(n,{offset:o.offset&&a(t,o.offset),position:o.position&&i(t,o.position),enableMassClear:o.enableMassClear})}n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r}))},"7a58":function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("76f3");e["a"]={name:"bm-control",mixins:[Object(i["a"])("control")],props:["anchor","offset"],watch:{anchor:function(t){this.originInstance.setAnchor(t)},offset:function(t){this.originInstance.setOffset(t)}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.anchor,a=this.offset,s=this.$el,r=function(){this.defaultAnchor=t[i||"BMAP_ANCHOR_TOP_LEFT"],this.defaultOffset=Object(o["e"])(e,a)};r.prototype=new e.Control,r.prototype.initialize=function(t){return t.getContainer().appendChild(s)},this.originInstance=new r(i,a),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},"7b51":function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("4fab"),a=n("76f3");e["a"]={name:"bm-info-window",mixins:[Object(i["a"])("overlay")],props:{show:{type:Boolean},position:{type:Object},title:{type:String},width:{type:Number},height:{type:Number},maxWidth:{type:Number},offset:{type:Object},maximize:{type:Boolean},autoPan:{type:Boolean},closeOnClick:{type:Boolean,default:!0},message:{type:String}},watch:{show:function(t){t?this.openInfoWindow():this.closeInfoWindow()},"position.lng":function(t,e){this.reload()},"position.lat":function(t,e){this.reload()},"offset.width":function(t,e){this.reload()},"offset.height":function(t){this.reload()},maxWidth:function(){this.reload()},width:function(t){this.originInstance.setWidth(t)},height:function(t){this.originInstance.setHeight(t)},title:function(t){this.originInstance.setTitle(t)},maximize:function(t){t?this.originInstance.enableMaximize():this.originInstance.disableMaximize()},autoPan:function(t){t?this.originInstance.enableAutoPan():this.originInstance.disableAutoPan()},closeOnClick:function(t){t?this.originInstance.enableCloseOnClick():this.originInstance.disableCloseOnClick()}},methods:{redraw:function(){this.originInstance.redraw()},load:function(){var t=this.BMap,e=this.map,n=this.show,i=this.title,s=this.width,r=this.height,l=this.maxWidth,c=this.offset,h=this.autoPan,u=this.closeOnClick,p=this.message,d=this.maximize,f=this.bindObserver,g=this.$parent,m=this.$el,y=new t.InfoWindow(m,{width:s,height:r,title:i,maxWidth:l,offset:Object(a["e"])(t,c),enableAutoPan:h,enableCloseOnClick:u,enableMessage:"undefined"===typeof p,message:p});d?y.enableMaximize():y.disableMaximize(),o["a"].call(this,y),this.originInstance=y,y.redraw(),[].forEach.call(m.querySelectorAll("img"),(function(t){t.onload=function(){return y.redraw()}})),f(),this.$container=g.originInstance&&g.originInstance.openInfoWindow?g.originInstance:e,n&&this.openInfoWindow()},bindObserver:function(){var e=t.MutationObserver;if(e){var n=this.$el,i=this.originInstance;this.observer=new e((function(t){return i.redraw()})),this.observer.observe(n,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},openInfoWindow:function(){var t=this.BMap,e=this.$container,n=this.position,i=this.originInstance;e.openInfoWindow(i,Object(a["d"])(t,n))},closeInfoWindow:function(){this.$container.closeInfoWindow(this.originInstance)}}}}).call(this,n("c8ba"))},"7f25e":function(t,e,n){"use strict";(function(t){var i=n("4fab"),o=n("33d3");function a(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){l=!0,a=t},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}function s(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}e["a"]={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(t,e){var n=this.map,i=this.zoom;"String"===Object(o["a"])(t)&&t!==e&&n.centerAndZoom(t,i)},"center.lng":function(t,e){var n=this.BMap,i=this.map,o=this.zoom,a=this.center;t!==e&&t>=-180&&t<=180&&i.centerAndZoom(new n.Point(t,a.lat),o)},"center.lat":function(t,e){var n=this.BMap,i=this.map,o=this.zoom,a=this.center;t!==e&&t>=-74&&t<=74&&i.centerAndZoom(new n.Point(a.lng,t),o)},zoom:function(t,e){var n=this.map;t!==e&&t>=3&&t<=19&&n.setZoom(t)},minZoom:function(t){var e=this.map;e.setMinZoom(t)},maxZoom:function(t){var e=this.map;e.setMaxZoom(t)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(e){var n=this.map;n.setMapType(t[e])},dragging:function(t){var e=this.map;t?e.enableDragging():e.disableDragging()},scrollWheelZoom:function(t){var e=this.map;t?e.enableScrollWheelZoom():e.disableScrollWheelZoom()},doubleClickZoom:function(t){var e=this.map;t?e.enableDoubleClickZoom():e.disableDoubleClickZoom()},keyboard:function(t){var e=this.map;t?e.enableKeyboard():e.disableKeyboard()},inertialDragging:function(t){var e=this.map;t?e.enableInertialDragging():e.disableInertialDragging()},continuousZoom:function(t){var e=this.map;t?e.enableContinuousZoom():e.disableContinuousZoom()},pinchToZoom:function(t){var e=this.map;t?e.enablePinchToZoom():e.disablePinchToZoom()},autoResize:function(t){var e=this.map;t?e.enableAutoResize():e.disableAutoResize()},theme:function(t){var e=this.map;e.setMapStyle({styleJson:t})},"mapStyle.features":{handler:function(t,e){var n=this.map,i=this.mapStyle,o=i.style,a=i.styleJson;n.setMapStyle({styleJson:a,features:t,style:o})},deep:!0},"mapStyle.style":function(t,e){var n=this.map,i=this.mapStyle,o=i.features,a=i.styleJson;n.setMapStyle({styleJson:a,features:o,style:t})},"mapStyle.styleJson":{handler:function(t,e){var n=this.map,i=this.mapStyle,o=i.features,a=i.style;n.setMapStyle({styleJson:t,features:o,style:a})},deep:!0},mapStyle:function(t){var e=this.map,n=this.theme;!n&&e.setMapStyle(t)}},methods:{setMapOptions:function(){var e=this.map,n=this.minZoom,i=this.maxZoom,o=this.mapType,a=this.dragging,s=this.scrollWheelZoom,r=this.doubleClickZoom,l=this.keyboard,c=this.inertialDragging,h=this.continuousZoom,u=this.pinchToZoom,p=this.autoResize;n&&e.setMinZoom(n),i&&e.setMaxZoom(i),o&&e.setMapType(t[o]),a?e.enableDragging():e.disableDragging(),s?e.enableScrollWheelZoom():e.disableScrollWheelZoom(),r?e.enableDoubleClickZoom():e.disableDoubleClickZoom(),l?e.enableKeyboard():e.disableKeyboard(),c?e.enableInertialDragging():e.disableInertialDragging(),h?e.enableContinuousZoom():e.disableContinuousZoom(),u?e.enablePinchToZoom():e.disablePinchToZoom(),p?e.enableAutoResize():e.disableAutoResize()},init:function(t){if(!this.map){var e,n=this.$refs.view,o=a(this.$slots.default||[]);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.componentOptions&&"bm-view"===s.componentOptions.tag&&(this.hasBmView=!0,n=s.elm)}}catch(d){o.e(d)}finally{o.f()}var r=new t.Map(n,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=r;var l=this.setMapOptions,c=this.zoom,h=this.getCenterPoint,u=this.theme,p=this.mapStyle;u?r.setMapStyle({styleJson:u}):r.setMapStyle(p),l(),i["a"].call(this,r),r.reset(),r.centerAndZoom(h(),c),this.$emit("ready",{BMap:t,map:r})}},getCenterPoint:function(){var t=this.center,e=this.BMap;switch(Object(o["a"])(t)){case"String":return t;case"Object":return new e.Point(t.lng,t.lat);default:return new e.Point}},initMap:function(t){this.BMap=t,this.init(t)},getMapScript:function(){if(t.BMap)return t.BMap._preloader?t.BMap._preloader:Promise.resolve(t.BMap);var e=this.ak||this._BMap().ak;return t.BMap={},t.BMap._preloader=new Promise((function(n,i){t._initBaiduMap=function(){n(t.BMap),t.document.body.removeChild(o),t.BMap._preloader=null,t._initBaiduMap=null};var o=document.createElement("script");t.document.body.appendChild(o),o.src="https://api.map.baidu.com/api?v=2.0&ak=".concat(e,"&callback=_initBaiduMap")})),t.BMap._preloader},reset:function(){var t=this.getMapScript,e=this.initMap;t().then(e)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}}}).call(this,n("c8ba"))},8409:function(t,e,n){"use strict";(function(t){var i=n("76f3"),o=n("2da4"),a=n("4fab");e["a"]={name:"bm-overview-map",mixins:[Object(o["a"])("control")],render:function(){},props:{anchor:{type:String},offset:{type:Object},size:{type:Object},isOpen:{type:Boolean}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},size:function(){this.reload()},isOpen:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,o=this.isOpen,s=this.size,r=this.offset,l=this.anchor,c=[];this.mapTypes&&this.mapTypes.forEach((function(e){c.push(t[e])})),this.originInstance=new e.OverviewMapControl({anchor:t[l],offset:Object(i["e"])(e,r),size:Object(i["e"])(e,s),isOpen:o}),a["a"].call(this,this.originInstance),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},9365:function(t,e,n){"use strict";n.r(e);var i,o,a,s,r,l,c,h,u,p,d,f,g,m,y,v,b,_,w,x,O,M,C,k,I,S,B,j,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-baidu-map")},E=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",[n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-text-field",{attrs:{label:"Longitude","prepend-icon":"place"},model:{value:t.center.lng,callback:function(e){t.$set(t.center,"lng",t._n(e))},expression:"center.lng"}})],1),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-text-field",{attrs:{label:"Latitude","prepend-icon":"place"},model:{value:t.center.lat,callback:function(e){t.$set(t.center,"lat",t._n(e))},expression:"center.lat"}})],1),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-text-field",{attrs:{label:"Zoom","prepend-icon":"zoom_out_map"},model:{value:t.zoom,callback:function(e){t.zoom=t._n(e)},expression:"zoom"}})],1)],1)],1)],1),n("baidu-map",{staticClass:"bm-view",attrs:{center:t.center,zoom:t.zoom,"scroll-wheel-zoom":!0,ak:t.appKey},on:{moving:t.syncCenterAndZoom,moveend:t.syncCenterAndZoom,zoomend:t.syncCenterAndZoom}},[n("bm-city-list",{attrs:{offset:{width:90,height:55},anchor:"BMAP_ANCHOR_TOP_LEFT"}}),n("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),n("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],offset:{width:0,height:55},anchor:"BMAP_ANCHOR_TOP_LEFT"}}),n("bm-overview-map",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",isOpen:!0}}),n("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0}}),n("bm-marker",{attrs:{position:{lng:113.9504,lat:22.544},dragging:!0,animation:"BMAP_ANIMATION_BOUNCE"}}),n("bm-control",[n("bm-auto-complete",{attrs:{sugStyle:{zIndex:12}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[n("v-text-field",{attrs:{height:"32",solo:"",placeholder:"Please search"}})],1)],1),n("bm-local-search",{attrs:{keyword:t.keyword,"auto-viewport":!0}})],1)],1)},A=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.hasBmView?t._e():n("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),t._t("default")],2)},L=[],R=n("7f25e"),$=R["a"],N=n("2877"),W=Object(N["a"])($,z,L,!1,null,null,null),D=W.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},Z=[],V={name:"bm-view"},H=V,G=Object(N["a"])(H,F,Z,!1,null,null,null),U=G.exports,J=n("6a21"),K=J["a"],X=Object(N["a"])(K,i,o,!1,null,null,null),q=(X.exports,n("b5c1")),Y=q["a"],Q=Object(N["a"])(Y,a,s,!1,null,null,null),tt=Q.exports,et=n("0823"),nt=et["a"],it=Object(N["a"])(nt,r,l,!1,null,null,null),ot=it.exports,at=n("8409"),st=at["a"],rt=Object(N["a"])(st,c,h,!1,null,null,null),lt=rt.exports,ct=n("4757"),ht=ct["a"],ut=Object(N["a"])(ht,u,p,!1,null,null,null),pt=ut.exports,dt=n("abed"),ft=dt["a"],gt=Object(N["a"])(ft,d,f,!1,null,null,null),mt=(gt.exports,n("6160")),yt=mt["a"],vt=Object(N["a"])(yt,g,m,!1,null,null,null),bt=vt.exports,_t=n("4136"),wt=_t["a"],xt=Object(N["a"])(wt,y,v,!1,null,null,null),Ot=(xt.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)}),Mt=[],Ct=n("7a58"),kt=Ct["a"],It=Object(N["a"])(kt,Ot,Mt,!1,null,null,null),St=It.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)},jt=[],Pt=n("165e"),Et=Pt["a"],Tt=Object(N["a"])(Et,Bt,jt,!1,null,null,null),At=Tt.exports,zt=n("bfa3"),Lt=zt["a"],Rt=Object(N["a"])(Lt,b,_,!1,null,null,null),$t=(Rt.exports,n("2da4")),Nt=n("4fab"),Wt=n("76f3"),Dt={name:"bm-polyline",render:function(){},mixins:[Object($t["a"])("overlay")],props:{path:{type:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler:function(t,e){this.reload()},deep:!0},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},editing:function(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.path,i=this.strokeColor,o=this.strokeWeight,a=this.strokeOpacity,s=this.strokeStyle,r=this.editing,l=this.massClear,c=this.clicking,h=new t.Polyline(n.map((function(e){return Object(Wt["d"])(t,{lng:e.lng,lat:e.lat})})),{strokeColor:i,strokeWeight:o,strokeOpacity:a,strokeStyle:s,enableEditing:r,enableMassClear:l,enableClicking:c});this.originInstance=h,e.addOverlay(h),Nt["a"].call(this,h)}}},Ft=Dt,Zt=Object(N["a"])(Ft,w,x,!1,null,null,null),Vt=(Zt.exports,{name:"bm-polygon",render:function(){},mixins:[Object($t["a"])("overlay")],props:{path:{type:Array,default:function(){return[]}},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler:function(t,e){this.reload()},deep:!0},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},fillColor:function(t){this.originInstance.setFillColor(t)},fillOpacity:function(t){this.originInstance.setFillOpacity(t)},editing:function(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.path,i=this.strokeColor,o=this.strokeWeight,a=this.strokeOpacity,s=this.strokeStyle,r=this.fillColor,l=this.fillOpacity,c=this.editing,h=this.massClear,u=this.clicking,p=new t.Polygon(n.map((function(e){return Object(Wt["d"])(t,{lng:e.lng,lat:e.lat})})),{strokeColor:i,strokeWeight:o,strokeOpacity:a,strokeStyle:s,fillColor:r,fillOpacity:l,enableMassClear:h,enableClicking:u});this.originInstance=p,e.addOverlay(p),Nt["a"].call(this,p),c?p.enableEditing():p.disableEditing()}}}),Ht=Vt,Gt=Object(N["a"])(Ht,O,M,!1,null,null,null),Ut=Gt.exports,Jt={name:"bm-circle",render:function(){},mixins:[Object($t["a"])("overlay")],props:{center:{},radius:{},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{"center.lng":function(t,e){var n=this.BMap,i=this.originInstance,o=this.isEditing,a=this.disableEditing,s=this.enableEditing,r=this.center,l=this.editing;if(!o){a();var c=t;t.toString()!==e.toString()&&c>=-180&&c<=180&&i.setCenter(Object(Wt["d"])(n,{lng:c,lat:r.lat})),l&&s()}},"center.lat":function(t,e){var n=this.BMap,i=this.originInstance,o=this.isEditing,a=this.disableEditing,s=this.enableEditing,r=this.center,l=this.editing;if(!o){a();var c=t;t.toString()!==e.toString()&&c>=-74&&c<=74&&i.setCenter(Object(Wt["d"])(n,{lng:r.lng,lat:c})),l&&s()}},radius:function(t,e){var n=this.originInstance,i=this.isEditing,o=this.disableEditing,a=this.enableEditing,s=this.editing;i||(o(),n.setRadius(t),s&&a())},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},fillColor:function(t){this.originInstance.setFillColor(t)},fillOpacity:function(t){this.originInstance.setFillOpacity(t)},editing:function(t){t?this.enableEditing():this.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{dragStartHandler:function(){this.isEditing=!0},dragEndHandler:function(){this.isEditing=!1,this.bindEditingNodeEvents()},bindEditingNodeEvents:function(){var t=this.originInstance,e=this.editingKey,n=this.dragStartHandler,i=this.dragEndHandler;t[e].forEach((function(t){t.addEventListener("dragstart",n),t.addEventListener("dragend",i)}))},enableEditing:function(){var t=this.originInstance,e=this.bindEditingNodeEvents;t.enableEditing(),e()},disableEditing:function(){var t=this.originInstance;t.disableEditing()},getEditingKey:function(t){var e=this,n=[];t.enableEditing(),setTimeout((function(){for(var i in t)t[i]&&2===t[i].length&&n.push(i);for(var o in t.disableEditing(),t)t[o]&&0===t[o].length&&~n.indexOf(o)&&(e.editingKey=o)}),0)},load:function(){var t=this.BMap,e=this.map,n=this.center,i=this.radius,o=this.strokeColor,a=this.strokeWeight,s=this.strokeOpacity,r=this.strokeStyle,l=this.fillColor,c=this.fillOpacity,h=this.editing,u=this.massClear,p=this.clicking,d=this.enableEditing,f=this.disableEditing,g=this.getEditingKey,m=this.editingKey,y=new t.Circle(Object(Wt["d"])(t,{lng:n.lng,lat:n.lat}),i,{strokeColor:o,strokeWeight:a,strokeOpacity:s,strokeStyle:r,fillColor:l,fillOpacity:c,enableMassClear:u,enableClicking:p});this.originInstance=y,e.addOverlay(y),Nt["a"].call(this,y),!m&&g(y),setTimeout((function(){h?d():f()}),0)}}},Kt=Jt,Xt=Object(N["a"])(Kt,C,k,!1,null,null,null),qt=(Xt.exports,{name:"bm-ground",render:function(){},mixins:[Object($t["a"])("overlay")],props:{bounds:{type:Object},opacity:{type:Number},imageURL:{type:String},displayOnMinLevel:{type:Number},displayOnMaxLevel:{type:Number}},watch:{bounds:{handler:function(t){var e=this.BMap;this.originInstance.setBounds(Object(Wt["a"])(e,t))},deep:!0},opacity:function(t){this.originInstance.setOpacity(t)},imageURL:function(t){this.originInstance.setImageURL(t)},displayOnMinLevel:function(t){this.originInstance.setDisplayOnMinLevel(t)},displayOnMaxLevel:function(t){this.originInstance.setDisplayOnMaxLevel(t)}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.bounds,i=this.opacity,o=this.imageURL,a=this.displayOnMinLevel,s=this.displayOnMaxLevel,r=new t.GroundOverlay(n&&Object(Wt["a"])(t,n),{opacity:i,imageURL:o,displayOnMaxLevel:s,displayOnMinLevel:a});r.setImageURL(o),this.originInstance=r,Nt["a"].call(this,r),e.addOverlay(r)}}}),Yt=qt,Qt=Object(N["a"])(Yt,I,S,!1,null,null,null),te=(Qt.exports,{name:"bm-label",render:function(){},mixins:[Object($t["a"])("overlay")],props:{content:{type:String},title:{type:String},offset:{},position:{},labelStyle:{},zIndex:{type:Number,default:0},massClear:{type:Boolean,default:!0}},watch:{content:function(t){this.originInstance.setContent(t)},title:function(t){this.originInstance.setTitle(t)},"offset.width":function(t,e){var n=this.BMap;t.toString()!==e.toString()&&this.originInstance.setOffset(Object(Wt["e"])(n,{width:t,height:this.offset.height}))},"offset.height":function(t,e){var n=this.BMap;t.toString()!==e.toString()&&this.originInstance.setOffset(Object(Wt["e"])(n,{width:this.offset.width,height:t}))},"position.lng":function(t,e){var n=this.BMap,i=t;t.toString()!==e.toString()&&i>=-180&&i<=180&&this.originInstance.setCenter(Object(Wt["d"])(n,{lng:i,lat:this.center.lat}))},"position.lat":function(t,e){var n=this.BMap,i=t;t.toString()!==e.toString()&&i>=-74&&i<=74&&this.originInstance.setCenter(Object(Wt["d"])(n,{lng:this.center.lng,lat:i}))},labelStyle:{handler:function(t){this.originInstance.setStyle(t)},deep:!0},zIndex:function(t){this.originInstance.setZIndex(t)},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.content,i=this.title,o=this.offset,a=this.position,s=this.labelStyle,r=this.zIndex,l=this.massClear,c=this.$parent,h=new t.Label(n,{offset:Object(Wt["e"])(t,o),position:Object(Wt["d"])(t,a),enableMassClear:l});this.originInstance=h;try{c.originInstance.setLabel(h)}catch(u){e.addOverlay(h)}i&&h.setTitle(i),s&&h.setStyle(s),r&&h.setZIndex(r),Nt["a"].call(this,h)}}}),ee=te,ne=Object(N["a"])(ee,B,j,!1,null,null,null),ie=ne.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._t("default")],2)},ae=[],se=n("7b51"),re=se["a"],le=Object(N["a"])(re,oe,ae,!1,null,null,null),ce=(le.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)}),he=[];function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function de(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function fe(t,e,n){return e&&de(t.prototype,e),n&&de(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ge(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}function me(t,e){return me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},me(t,e)}function ye(t){var e=_e();return function(){var n,i=we(t);if(e){var o=we(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return ve(this,n)}}function ve(t,e){if(e&&("object"===ue(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return be(t)}function be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function we(t){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},we(t)}var xe={name:"bm-overlay",mixins:[Object($t["a"])("overlay")],props:{pane:{type:String}},watch:{pane:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.$el,i=this.pane,o=this.$emit.bind(this),a=function(a){ge(r,a);var s=ye(r);function r(){return pe(this,r),s.apply(this,arguments)}return fe(r,[{key:"initialize",value:function(){o("initialize",{BMap:t,map:e,el:n,overlay:this});try{e.getPanes()[i].appendChild(n)}catch(a){}return n}},{key:"draw",value:function(){o("draw",{BMap:t,map:e,el:n,overlay:this})}}]),r}(t.Overlay),s=new a;this.originInstance=s,e.addOverlay(s)}}},Oe=xe,Me=Object(N["a"])(Oe,ce,he,!1,null,null,null),Ce=(Me.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)}),ke=[];function Ie(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Se(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw a}}}}function Se(t,e){if(t){if("string"===typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,e):void 0}}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var je,Pe,Ee,Te,Ae={name:"bm-context-menu",props:{width:{type:Number}},mixins:[Object($t["a"])("contextMenu")],methods:{load:function(){var t=this.width,e=this.BMap,n=this.map,i=this.$parent,o=this.parent=i.originInstance||n;this.originInstance&&o.removeContextMenu(this.originInstance);var a,s=this.originInstance=new e.ContextMenu,r=Ie(this.$children);try{var l=function(){var i=a.value;if(i.seperator)return s.addSeparator(),"continue";var r=new e.MenuItem(i.text,(function(t,a){i.callback({point:t,pixel:a,BMap:e,map:n,target:o})}),{width:t,id:i.id,iconUrl:i.iconUrl});i.disabled?r.disable():r.enable(),i.originInstance=r,s.addItem(r)};for(r.s();!(a=r.n()).done;)l()}catch(c){r.e(c)}finally{r.f()}o.addContextMenu(s)}}},ze=Ae,Le=Object(N["a"])(ze,Ce,ke,!1,null,null,null),Re=(Le.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._t("default")],2)}),$e=[],Ne={name:"bm-context-menu-item",props:{callback:{type:Function,default:function(){}},text:{type:String},iconUrl:{type:String},id:{type:String},disabled:{type:Boolean},seperator:{type:Boolean}},methods:{reload:function(){this.$parent.map&&this.$parent.load()}},watch:{text:function(){this.reload()},iconUrl:function(){this.reload()},id:function(){this.reload()},disabled:function(){this.reload()},iseperator:function(){this.reload()},callback:function(){this.reload()}},destroyed:function(){this.reload()},mounted:function(){this.reload()}},We=Ne,De=Object(N["a"])(We,Re,$e,!1,null,null,null),Fe=(De.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.panel,expression:"panel"}]},[t._t("default")],2)}),Ze=[],Ve=n("33d3"),He={name:"bm-local-search",mixins:[Object($t["a"])("search")],props:{location:{type:[Object,String]},keyword:{type:[Array,String]},panel:{type:Boolean,default:!0},forceLocal:{type:Boolean},customData:{type:Object},bounds:{type:Object},nearby:{type:Object},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.search;e.setLocation(t||this.map),n()},deep:!0},keyword:function(){this.search()},bounds:{handler:function(t){var e=this.searchInBounds;e(t)},deep:!0},nearby:{handler:function(t){var e=this.searchNearby;e(t)},deep:!0},forceLocal:function(){this.reload()},customData:{deep:!0,handler:function(){this.reload()}},pageCapacity:function(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport:function(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult:function(t){this.originInstance&&(t?this.originInstance.enableFirstResultSelection():this.originInstance.disableFirstResultSelection())},highlightMode:function(){this.reload()}},methods:{searchNearby:function(t){var e=this.originInstance,n=this.keyword,i=this.customData,o=this.BMap;e.searchNearby(n,Object(Wt["d"])(o,t.center),t.radius,i)},searchInBounds:function(t){var e=this.originInstance,n=this.keyword,i=this.customData,o=this.BMap;e.searchInBounds(n,Object(Wt["a"])(o,t),i)},search:function(){var t=this.originInstance,e=this.keyword,n=this.forceLocal,i=this.customData,o=this.nearby,a=this.bounds,s=this.searchNearby,r=this.searchInBounds;o?s(o):a?r(a):t.search(e,{forceLocal:n,customData:i})},load:function(){var t=this,e=this.map,n=this.BMap,i=this.search,o=this.pageCapacity,a=this.autoViewport,s=this.selectFirstResult,r=this.highlightMode,l=this.location,c=this.originInstance,h=l?Object(Ve["c"])(l)?Object(Wt["d"])(n,l):l:e,u=this.originInstance=new n.LocalSearch(h,{onMarkersSet:function(e){t.$emit("markersset",e)},onInfoHtmlSet:function(e){t.$emit("infohtmlset",e)},onResultsHtmlSet:function(e){t.$emit("resultshtmlset",e)},onSearchComplete:function(e){c&&c!==u&&c.clearResults(),t.$emit("searchcomplete",e)},pageCapacity:o,renderOptions:{map:e,panel:this.$el,selectFirstResult:s,autoViewport:a,highlightMode:r}});i()}}},Ge=He,Ue=Object(N["a"])(Ge,Fe,Ze,!1,null,null,null),Je=Ue.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.panel,expression:"panel"}]},[t._t("default")],2)},Xe=[],qe=n("16d1"),Ye=qe["a"],Qe=Object(N["a"])(Ye,Ke,Xe,!1,null,null,null),tn=(Qe.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.panel,expression:"panel"}]},[t._t("default")],2)}),en=[],nn={name:"bm-walking",mixins:[Object($t["a"])("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},start:{handler:function(t){var e=this.originInstance,n=this.end,i=this.BMap;e.search(Object(Ve["b"])(i,t),Object(Ve["b"])(i,n))},deep:!0},end:{handler:function(t){var e=this.originInstance,n=this.start,i=this.BMap;e.search(Object(Ve["b"])(i,n),Object(Ve["b"])(i,t))},deep:!0},panel:function(){this.reload()},autoViewport:function(t){this.reload()},selectFirstResult:function(t){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(t,e){var n=this.originInstance;n.search(t,e)},load:function(){var t=this,e=this.map,n=this.BMap,i=this.location,o=this.selectFirstResult,a=this.autoViewport,s=this.highlightMode,r=this.search,l=this.start,c=this.end,h=this.originInstance,u=i?Object(Ve["c"])(i)?Object(Wt["d"])(n,i):i:e,p=this.originInstance=new n.WalkingRoute(u,{renderOptions:{map:e,panel:this.$el,selectFirstResult:o,autoViewport:a,highlightMode:s},onSearchComplete:function(e){h&&h!==p&&h.clearResults(),t.$emit("searchcomplete",e)},onMarkersSet:function(e){t.$emit("markersset",e)},onInfoHtmlSet:function(e){t.$emit("infohtmlset",e)},onPolylinesSet:function(e){t.$emit("polylinesset",e)},onResultsHtmlSet:function(e){t.$emit("resultshtmlset",e)}});r(Object(Ve["c"])(l)?Object(Wt["d"])(n,l):l,Object(Ve["c"])(c)?Object(Wt["d"])(n,c):c)}}},on=nn,an=Object(N["a"])(on,tn,en,!1,null,null,null),sn=(an.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.panel,expression:"panel"}]},[t._t("default")],2)}),rn=[],ln=n("b0f5"),cn=ln["a"],hn=Object(N["a"])(cn,sn,rn,!1,null,null,null),un=(hn.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.panel,expression:"panel"}]})}),pn=[],dn={name:"bm-bus",mixins:[Object($t["a"])("search")],props:{location:{type:[Object,String]},keyword:{type:String},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},keyword:function(t){this.search(t)},panel:function(){this.reload()},autoViewport:function(t){this.reload()},selectFirstResult:function(t){this.reload()}},methods:{search:function(t){var e=this.originInstance;e.getBusList(t)},load:function(){var t=this,e=this.location,n=this.selectFirstResult,i=this.autoViewport,o=this.highlightMode,a=this.keyword,s=this.search,r=this.BMap,l=this.map,c=this.originInstance,h=e?Object(Ve["c"])(e)?Object(Wt["d"])(r,e):e:l,u=this.originInstance=new r.BusLineSearch(h,{renderOptions:{map:l,panel:this.$el,selectFirstResult:n,autoViewport:i,highlightMode:o},onGetBusListComplete:function(e){c&&c!==u&&c.clearResults(),t.$emit("getbuslistcomplete",e)},onGetBusLineComplete:function(e){c&&c!==u&&c.clearResults(),t.$emit("getbuslinecomplete",e)},onBusListHtmlSet:function(e){t.$emit("buslisthtmlset",e)},onBusLineHtmlSet:function(e){t.$emit("buslinehtmlset",e)},onMarkersSet:function(e){t.$emit("markersset",e)},onPolylinesSet:function(e){t.$emit("polylinesset",e)}});s(a)}}},fn=dn,gn=Object(N["a"])(fn,un,pn,!1,null,null,null),mn=(gn.exports,{name:"bm-tile",render:function(t){},mixins:[Object($t["a"])("layer")],props:{transparentPng:{type:Boolean},tileUrlTemplate:{type:String},copyright:{},zIndex:{type:Number}},watch:{transparentPng:function(){this.reload()},tileUrlTemplate:function(){this.reload()},copyright:function(){this.reload()},zIndex:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.transparentPng,i=this.tileUrlTemplate,o=this.copyright,a=this.zIndex;this.originInstance=new t.TileLayer({transparentPng:n,tileUrlTemplate:i,copyright:o&&{id:o.id,content:o.content,bounds:o.bounds&&Object(Wt["a"])(o.bounds)},zIndex:a}),e.addTileLayer(this.originInstance)}}}),yn=mn,vn=Object(N["a"])(yn,je,Pe,!1,null,null,null),bn=(vn.exports,{name:"bm-triffic",render:function(t){},mixins:[Object($t["a"])("layer")],props:{predictDate:{type:Object}},watch:{"pridictDate.weekday":function(){this.reload()},"pridictDate.hour":function(){this.reload()},pridictDate:function(){this.reload()}},methods:{load:function(){var t=this.pridictDate,e=this.BMap,n=this.map;this.originInstance=new e.TrafficLayer({pridictDate:t}),n.addTileLayer(this.originInstance)}}}),_n=bn,wn=Object(N["a"])(_n,Ee,Te,!1,null,null,null),xn=(wn.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.paths.length?n("div",t._l(t.paths,(function(e,i){return n("bm-polygon",{key:i,attrs:{path:e,"stroke-color":t.strokeColor,"stroke-weight":t.strokeWeight,"stroke-opacity":t.strokeOpacity,"stroke-style":t.strokeStyle,"fill-opacity":t.fillOpacity,"fill-color":t.fillColor,"mass-clear":t.massClear,clicking:t.clicking},on:{click:function(e){return t.$emit("click",e)},dblclick:function(e){return t.$emit("dblclick",e)},mousedown:function(e){return t.$emit("mousedown",e)},mouseup:function(e){return t.$emit("mouseup",e)},mouseout:function(e){return t.$emit("mouseout",e)},mouseover:function(e){return t.$emit("mouseover",e)},remove:function(e){return t.$emit("remove",e)}}})})),1):t._e()}),On=[];function Mn(t,e){return Bn(t)||Sn(t,e)||kn(t,e)||Cn()}function Cn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kn(t,e){if(t){if("string"===typeof t)return In(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(t,e):void 0}}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Sn(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,a=[],s=!0,r=!1;try{for(n=n.call(t);!(s=(i=n.next()).done);s=!0)if(a.push(i.value),e&&a.length===e)break}catch(l){r=!0,o=l}finally{try{s||null==n["return"]||n["return"]()}finally{if(r)throw o}}return a}}function Bn(t){if(Array.isArray(t))return t}var jn={mixins:[Object($t["a"])("abstract")],props:["name","strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","massClear","clicking"],data:function(){return{paths:[]}},components:{BmPolygon:Ut},watch:{name:function(){this.reload()}},methods:{load:function(){var t=this,e=this.BMap,n=this.name,i=new e.Boundary;i.get(n,(function(e){t.paths=e.boundaries.map((function(t){return(t||[]).split(";").map((function(t){return function(t){var e=Mn(t,2),n=e[0],i=e[1];return{lng:n,lat:i}}(t.split(",").map((function(t){return+t})))}))}))}))}}},Pn=jn,En=Object(N["a"])(Pn,xn,On,!1,null,null,null),Tn=(En.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._t("default",(function(){return[n("input")]}))],2)}),An=[];function zn(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ln(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){r=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw a}}}}function Ln(t,e){if(t){if("string"===typeof t)return Rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(t,e):void 0}}function Rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var $n,Nn,Wn,Dn,Fn,Zn,Vn={name:"bm-autocomplete",mixins:[Object($t["a"])()],props:{types:{type:String},location:{type:String},sugStyle:{type:Object,default:function(){return{}}}},watch:{types:function(){this.reload()},location:function(){this.reload()}},methods:{load:function(){var t=this,e=this.BMap,n=this.map,i=this.$el,o=this.types,a=this.location,s=this.sugStyle,r=i.querySelector("input");r&&(this.originInstance=new e.Autocomplete({input:r,types:o,location:a||n,onSearchComplete:function(e){var n,i=document.querySelectorAll(".tangram-suggestion-main"),o=zn(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;for(var r in s)a.style[r]=s[r].toString()}}catch(l){o.e(l)}finally{o.f()}t.$emit("searchcomplete",e)}}),this.originInstance.addEventListener("onconfirm",(function(e){var n=e.item.value;t.$emit("input",n.province+n.city+n.district+n.street+n.business)})),Nt["a"].call(this,this.originInstance))}}},Hn=Vn,Gn=Object(N["a"])(Hn,Tn,An,!1,null,null,null),Un=Gn.exports,Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._t("default")],2)},Kn=[],Xn=n("c296"),qn=n.n(Xn),Yn={name:"bml-marker-clusterer",mixins:[Object($t["a"])("markerClusterer")],props:{gridSize:{type:Object},maxZoom:{type:Number},minClusterSize:{type:Number},styles:{type:Array,default:function(){return[]}},averageCenter:{type:Boolean,default:!1}},watch:{gridSize:{handler:function(t){var e=this.BMap,n=this.originInstance;n.setGridSize(e,t.map)},deep:!0},maxZoom:function(t){var e=this.originInstance;e.setMaxZoom(t)},minClusterSize:{handler:function(t){var e=this.BMap,n=this.originInstance;n.setMinClusterSize(Object(Wt["e"])(e,t))},deep:!0},styles:{handler:function(t){var e=this.BMap,n=this.originInstance,i=JSON.parse(JSON.stringify(t)).map((function(t){return t.size=t.size&&Object(Wt["e"])(e,t.size),t}));n.setStyles(i)},deep:!0},averageCenter:function(t){this.reload()}},methods:{load:function(){var t=this,e=this.BMap,n=this.map,i=this.gridSize,o=this.minClusterSize,a=this.maxZoom,s=this.styles,r=this.averageCenter;this.originInstance=new qn.a(n,{gridSize:i&&Object(Wt["e"])(e,i),maxZoom:a,minClusterSize:o&&Object(Wt["e"])(e,o),styles:s.map((function(t){return t.size=Object(Wt["e"])(e,t.size),t})),isAverageCenter:r}),this.$nextTick((function(){var n=t.$children.map((function(t){return t.originInstance})).filter((function(t){return t instanceof e.Marker}));t.originInstance.addMarkers(n)}))}},beforeCreate:function(){this.preventChildrenRender=!0}},Qn=Yn,ti=Object(N["a"])(Qn,Jn,Kn,!1,null,null,null),ei=(ti.exports,n("4b0c")),ni=n.n(ei),ii={name:"bm-lushu",render:function(t){},mixins:[Object($t["a"])("lushu")],props:{path:{type:Array,default:[]},landmarkPois:{type:Array,default:function(){return[]}},icon:{type:Object},speed:{type:Number,default:4e3},content:{type:String,default:""},autoView:{type:Boolean,default:!1},rotation:{type:Boolean,default:!1},infoWindow:{type:Boolean,default:!0},play:{type:Boolean,default:!0}},watch:{path:{handler:function(t){this.reload()},deep:!0},landmarkPois:{handler:function(t){this.reload()},deep:!0},icon:{handler:function(t){var e=this.originInstance,n=(this.content,Object(Wt["b"])(BMap,t));e._opts.icon=n,e._marker=n},deep:!0},speed:function(t){var e=this.originInstance;this.content;e._opts.speed=t},content:function(t){var e=this.originInstance,n=this.infoWindow;t&&n?e.showInfoWindow():e.hideInfoWindow(),e._opts.defaultContent=t,e._overlay&&e._overlay.setHtml(t)},autoView:function(t){var e=this.originInstance;this.content;e._opts.autoView=t},rotation:function(t){var e=this.originInstance;this.content;e._opts.enableRotation=t},infoWindow:function(t){var e=this.originInstance,n=this.content;e&&t&&n?e.showInfoWindow():e.hideInfoWindow()},play:function(t){var e=this.originInstance;t&&e?e.start():!this._isEnd&&e.pause()}},methods:{load:function(){var t=this,e=this.BMap,n=this.map,i=this.path,o=this.landmarkPois,a=this.icon,s=this.speed,r=this.content,l=this.autoView,c=this.rotation,h=this.infoWindow,u=this.play,p=this.originInstance=new ni.a(n,i,{enableRotation:c,landmarkPois:o,showInfoWindow:h,defaultContent:r,icon:a&&Object(Wt["b"])(e,a),speed:s,autoView:l,onstart:function(e){t._isEnd=!1,t.$emit("start")},onstop:function(e){t._isEnd=!0,t.$emit("stop")},onpause:function(e){return t.$emit("pause")}});u&&i.length&&p.start(this),i.length&&(r&&h?p.showInfoWindow():p.hideInfoWindow())}}},oi=ii,ai=Object(N["a"])(oi,$n,Nn,!1,null,null,null),si=(ai.exports,n("57ff")),ri=n.n(si),li={name:"bml-heatmap",render:function(){},mixins:[Object($t["a"])("overlay")],props:{data:{type:Array,default:Array},max:{type:Number},radius:{type:Number},gradient:{type:Object},opacity:{type:Number}},watch:{data:{handler:function(){this.reload()},deep:!0},max:function(){this.reload()},radius:function(t){var e=this.originInstance,n=this.opacity,i=this.gradient;e.setOptions({radius:t,opacity:n,gradient:i})},gradient:{handler:function(t){var e=this.originInstance,n=this.radius,i=this.opacity;e.setOptions({radius:n,opacity:i,gradient:t})},deep:!0},opacity:function(t){var e=this.originInstance,n=this.radius,i=this.gradient;e.setOptions({radius:n,opacity:t,gradient:i})}},methods:{load:function(){var t=this.map,e=this.data,n=this.max,i=this.radius,o=this.opacity,a=this.gradient,s=this.originInstance=new ri.a({radius:i,opacity:o,gradient:a});t.addOverlay(s),s.setDataSet({data:e,max:n})}}},ci=li,hi=Object(N["a"])(ci,Wn,Dn,!1,null,null,null),ui=(hi.exports,n("35eb")),pi=n.n(ui),di=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],fi={name:"bml-curve-line",render:function(){},mixins:[Object($t["a"])("overlay")],props:{points:{type:Array,default:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{points:{handler:function(t,e){this.originInstance.disableEditing(),this.reload()},deep:!0},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},editing:function(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.points,i=this.strokeColor,o=this.strokeWeight,a=this.strokeOpacity,s=this.strokeStyle,r=this.editing,l=this.massClear,c=this.clicking,h=new pi.a(n.map((function(e){return Object(Wt["d"])(t,e)})),{strokeColor:i,strokeWeight:o,strokeOpacity:a,strokeStyle:s,enableMassClear:l,enableClicking:c});r?h.enableEditing():h.disableEditing(),this.originInstance=h,e.addOverlay(h),Nt["a"].call(this,h,di)}}},gi=fi,mi=Object(N["a"])(gi,Fn,Zn,!1,null,null,null),yi=(mi.exports,{name:"BaseBaiduMap",components:{BaiduMap:D,BmCityList:bt,BmNavigation:tt,BmMapType:ot,BmOverviewMap:lt,BmGeolocation:pt,BmMarker:At,BmLabel:ie,BmView:U,BmControl:St,BmAutoComplete:Un,BmLocalSearch:Je},data:function(){return{appKey:"np5hzZH52fbM7H1k1TVh8Gwln4GV4ldv",center:{lng:113.952,lat:22.543},zoom:15,mapType:"BMAP_SATELLITE_MAP",keyword:""}},methods:{syncCenterAndZoom:function(t){var e=t.target.getCenter(),n=e.lng,i=e.lat;this.center.lng=n,this.center.lat=i,this.zoom=t.target.getZoom()}}}),vi=yi,bi=(n("a837"),Object(N["a"])(vi,T,A,!1,null,null,null)),_i=bi.exports,wi={name:"VMaps",components:{BaseBaiduMap:_i}},xi=wi,Oi=Object(N["a"])(xi,P,E,!1,null,null,null);e["default"]=Oi.exports},a0a1:function(t,e,n){},a837:function(t,e,n){"use strict";n("a0a1")},abed:function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("76f3");e["a"]={name:"bm-copyright",render:function(){},mixins:[Object(i["a"])("control")],props:["anchor","offset","copyright"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()},copyright:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.offset,a=this.anchor,s=this.updateCopyrightList;this.originInstance=new e.CopyrightControl({anchor:t[a],offset:i&&Object(o["e"])(e,i)}),s(),n.addControl(this.originInstance)},updateCopyrightList:function(){var t=this,e=this.BMap,n=this.map,i=this.originInstance,o=i.removeCopyright,a=i.getCopyrightCollection,s=a();s&&s.forEach((function(t){o(t.id)})),this.copyright&&this.copyright.forEach((function(i){var o=i.bounds?new e.Bounds(new e.Point(i.bounds.sw.lng,i.bounds.sw.lat),new e.Point(i.bounds.ne.lng,i.bounds.ne.lat)):n.getBounds();t.originInstance.addCopyright({id:i.id,content:i.content,bounds:o}),t.originInstance.getCopyrightCollection()}))}}}}).call(this,n("c8ba"))},b0f5:function(t,e,n){"use strict";(function(t){var i=n("76f3"),o=n("33d3"),a=n("2da4");e["a"]={name:"bm-driving",mixins:[Object(a["a"])("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},startCity:{type:[String,Number]},endCity:{type:[String,Number]},waypoints:{type:Array},policy:{type:String},panel:{type:Boolean,default:!0},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},start:{handler:function(t){var e=this.originInstance,n=this.end,i=this.startCity,a=this.endCity,s=this.waypoints,r=this.BMap,l=this.getWaypoints;e.search(Object(o["b"])(r,t),Object(o["b"])(r,n),{startCity:i,endCity:a,waypoints:l(s)})},deep:!0},end:{handler:function(t){var e=this.originInstance,n=this.start,i=this.startCity,a=this.endCity,s=this.waypoints,r=this.BMap,l=this.getWaypoints;e.search(Object(o["b"])(r,n),Object(o["b"])(r,t),{startCity:i,endCity:a,waypoints:l(s)})},deep:!0},startCity:function(t){var e=this.originInstance,n=this.start,i=this.end,o=this.endCity,a=this.waypoints,s=this.getWaypoints;e.search(n,i,{val:t,endCity:o,waypoints:s(a)})},endCity:function(t){var e=this.originInstance,n=this.start,i=this.end,o=this.startCity,a=this.waypoints,s=this.getWaypoints;e.search(n,i,{startCity:o,val:t,waypoints:s(a)})},waypoints:{handler:function(t){var e=this.originInstance,n=this.start,i=this.end,o=this.startCity,a=this.endCity,s=this.getWaypoints;e.search(n,i,{startCity:o,endCity:a,waypoints:s(t)})},deep:!0},panel:function(){this.reload()},policy:function(t){this.reload()},autoViewport:function(){this.reload()},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(t,e,n){var i=n.startCity,o=n.endCity,a=n.waypoints,s=this.originInstance,r=this.getWaypoints;s.search(t,e,{startCity:i,endCity:o,waypoints:r(a)})},getWaypoints:function(t){var e=this.BMap;if(t)return t.map((function(t){return Object(o["b"])(e,t)}))},load:function(){var e=this,n=this.map,a=this.BMap,s=this.location,r=this.policy,l=this.selectFirstResult,c=this.autoViewport,h=this.highlightMode,u=this.search,p=this.start,d=this.end,f=this.startCity,g=this.endCity,m=this.waypoints,y=this.originInstance,v=this.getWaypoints,b=s?Object(o["c"])(s)?Object(i["d"])(a,s):s:n,_=this.originInstance=new a.DrivingRoute(b,{renderOptions:{map:n,panel:this.$el,selectFirstResult:l,autoViewport:c,highlightMode:h},policy:t[r],onSearchComplete:function(t){y&&y!==_&&y.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});u(Object(o["b"])(a,p),Object(o["b"])(a,d),{startCity:f,endCity:g,waypoints:v(m)})}}}}).call(this,n("c8ba"))},b5c1:function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("76f3");e["a"]={name:"bm-navigation",render:function(){},mixins:[Object(i["a"])("control")],props:{anchor:{type:String},offset:{type:Object},type:{type:String},showZoomInfo:{type:Boolean},enableGeolocation:{type:Boolean,default:!1}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},showZoomInfo:function(){this.reload()}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.anchor,a=this.offset,s=this.type,r=this.showZoomInfo,l=this.enableGeolocation;this.originInstance=new e.NavigationControl({anchor:t[i],offset:a&&Object(o["e"])(e,a),type:t[s],showZoomInfo:r,enableGeolocation:l}),n.addControl(this.originInstance)}}}}).call(this,n("c8ba"))},bfa3:function(t,e,n){"use strict";(function(t){var i=n("2da4"),o=n("4fab"),a=n("76f3");e["a"]={render:function(){},name:"bm-point-collection",mixins:[Object(i["a"])("overlay")],props:{points:{type:Array,default:function(){return[]}},shape:{type:String,default:"BMAP_POINT_SHAPE_CIRCLE"},color:{type:String},size:{type:String,default:"BMAP_POINT_SIZE_NORMAL"}},watch:{shape:function(e){var n=this.originInstance,i=this.color,o=this.size;n.setStyles({shape:t[e],color:i,size:t[o]})},size:function(e){var n=this.originInstance,i=this.color,o=this.shape;n.setStyles({shape:t[o],color:i,size:t[e]})},color:function(e){var n=this.originInstance,i=this.shape,o=this.size;n.setStyles({shape:t[i],color:e,size:t[o]})},points:{deep:!0,handler:function(t){var e=this.originInstance;e.clear(),e.setPoints(t)}}},methods:{load:function(){var e=this.BMap,n=this.map,i=this.points,s=this.shape,r=this.color,l=this.size,c=this.originInstance=new e.PointCollection(i.map((function(t){return Object(a["d"])(e,t)})),{shape:t[s],color:r,size:t[l]});o["a"].call(this,c),n.addOverlay(c)}}}}).call(this,n("c8ba"))},c296:function(t,e,n){(function(e){var i,o;(function(e,n){t.exports=n()})(0,(function(){"use strict";var t="undefined"!==typeof window?window:"undefined"!==typeof e?e:this;function a(e,n){return n={exports:{}},e(n,n.exports,t),n.exports}var s=a((function(t,e,a){(function(a,s){"object"===typeof e?t.exports=s():(i=s,o="function"===typeof i?i.call(e,n,e,t):i,void 0===o||(t.exports=o))})(0,(function(){var t,e=t=e||{version:"1.3.8"},n={};e.guid="$BAIDU$",n[e.guid]=n[e.guid]||{},e.dom=e.dom||{},e.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},e.g=e.G=e.dom.g,e.dom.getDocument=function(t){return t=e.dom.g(t),9==t.nodeType?t:t.ownerDocument||t.document},e.lang=e.lang||{},e.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},e.isString=e.lang.isString,e.dom._g=function(t){return e.lang.isString(t)?document.getElementById(t):t},e._g=e.dom._g,e.browser=e.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(e.browser.ie=e.ie=document.documentMode||+RegExp["$1"]),e.dom.getComputedStyle=function(t,n){t=e.dom._g(t);var i,o=e.dom.getDocument(t);return o.defaultView&&o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(t,null),i)?i[n]||i.getPropertyValue(n):""},e.dom._styleFixer=e.dom._styleFixer||{},e.dom._styleFilter=e.dom._styleFilter||[],e.dom._styleFilter.filter=function(t,n,i){for(var o,a=0,s=e.dom._styleFilter;o=s[a];a++)(o=o[i])&&(n=o(t,n));return n},e.string=e.string||{},e.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,(function(t){return t.charAt(1).toUpperCase()}))},e.dom.getStyle=function(t,n){var i=e.dom;t=i.g(t),n=e.string.toCamelCase(n);var o=t.style[n]||(t.currentStyle?t.currentStyle[n]:"")||i.getComputedStyle(t,n);if(!o){var a=i._styleFixer[n];a&&(o=a.get?a.get(t):e.dom.getStyle(t,a))}return(a=i._styleFilter)&&(o=a.filter(n,o,"get")),o},e.getStyle=e.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(e.browser.opera=+RegExp["$1"]),e.browser.isWebkit=/webkit/i.test(navigator.userAgent),e.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),e.browser.isStrict="CSS1Compat"==document.compatMode,e.dom.getPosition=function(t){t=e.dom.g(t);var n,i,o=e.dom.getDocument(t),a=e.browser,s=e.dom.getStyle,r=(a.isGecko>0&&o.getBoxObjectFor&&"absolute"==s(t,"position")&&(""===t.style.top||t.style.left),{left:0,top:0}),l=a.ie&&!a.isStrict?o.body:o.documentElement;if(t==l)return r;if(t.getBoundingClientRect){i=t.getBoundingClientRect(),r.left=Math.floor(i.left)+Math.max(o.documentElement.scrollLeft,o.body.scrollLeft),r.top=Math.floor(i.top)+Math.max(o.documentElement.scrollTop,o.body.scrollTop),r.left-=o.documentElement.clientLeft,r.top-=o.documentElement.clientTop;var c=o.body,h=parseInt(s(c,"borderLeftWidth")),u=parseInt(s(c,"borderTopWidth"));a.ie&&!a.isStrict&&(r.left-=isNaN(h)?2:h,r.top-=isNaN(u)?2:u)}else{n=t;do{if(r.left+=n.offsetLeft,r.top+=n.offsetTop,a.isWebkit>0&&"fixed"==s(n,"position")){r.left+=o.body.scrollLeft,r.top+=o.body.scrollTop;break}n=n.offsetParent}while(n&&n!=t);(a.opera>0||a.isWebkit>0&&"absolute"==s(t,"position"))&&(r.top-=o.body.offsetTop),n=t.offsetParent;while(n&&n!=o.body)r.left-=n.scrollLeft,a.opera&&"TR"==n.tagName||(r.top-=n.scrollTop),n=n.offsetParent}return r},e.event=e.event||{},e.event._listeners=e.event._listeners||[],e.event.on=function(t,n,i){n=n.replace(/^on/i,""),t=e.dom._g(t);var o,a=function(e){i.call(t,e)},s=e.event._listeners,r=e.event._eventFilter,l=n;return n=n.toLowerCase(),r&&r[n]&&(o=r[n](t,n,a),l=o.type,a=o.listener),t.addEventListener?t.addEventListener(l,a,!1):t.attachEvent&&t.attachEvent("on"+l,a),s[s.length]=[t,n,i,a,l],t},e.on=e.event.on,function(){var t=n[e.guid];e.lang.guid=function(){return"TANGRAM__"+(t._counter++).toString(36)},t._counter=t._counter||1}(),n[e.guid]._instances=n[e.guid]._instances||{},e.lang.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},e.lang.Class=function(t){this.guid=t||e.lang.guid(),n[e.guid]._instances[this.guid]=this},n[e.guid]._instances=n[e.guid]._instances||{},e.lang.Class.prototype.dispose=function(){for(var t in delete n[e.guid]._instances[this.guid],this)e.lang.isFunction(this[t])||delete this[t];this.disposed=!0},e.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},e.lang.Event=function(t,e){this.type=t,this.returnValue=!0,this.target=e||null,this.currentTarget=null},e.lang.Class.prototype.addEventListener=function(t,n,i){if(e.lang.isFunction(n)){!this.__listeners&&(this.__listeners={});var o,a=this.__listeners;if("string"==typeof i&&i){if(/[^\w\-]/.test(i))throw"nonstandard key:"+i;n.hashCode=i,o=i}0!=t.indexOf("on")&&(t="on"+t),"object"!=typeof a[t]&&(a[t]={}),o=o||e.lang.guid(),n.hashCode=o,a[t][o]=n}},e.lang.Class.prototype.removeEventListener=function(t,n){if("undefined"==typeof n||(!e.lang.isFunction(n)||(n=n.hashCode))&&e.lang.isString(n)){!this.__listeners&&(this.__listeners={}),0!=t.indexOf("on")&&(t="on"+t);var i=this.__listeners;if(i[t])if("undefined"!=typeof n)i[t][n]&&delete i[t][n];else for(var o in i[t])delete i[t][o]}},e.lang.Class.prototype.dispatchEvent=function(t,n){for(var i in e.lang.isString(t)&&(t=new e.lang.Event(t)),!this.__listeners&&(this.__listeners={}),n=n||{},n)t[i]=n[i];var o=this.__listeners,a=t.type;if(t.target=t.target||this,t.currentTarget=this,0!=a.indexOf("on")&&(a="on"+a),e.lang.isFunction(this[a])&&this[a].apply(this,arguments),"object"==typeof o[a])for(i in o[a])o[a][i].apply(this,arguments);return t.returnValue},e.lang.inherits=function(t,e,n){var i,o,a=t.prototype,s=new Function;for(i in s.prototype=e.prototype,o=t.prototype=new s,a)o[i]=a[i];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof n&&(o._className=n)},e.inherits=e.lang.inherits;var i="http://api.map.baidu.com/library/TextIconOverlay/1.2/src/images/m",o="png",a=function(e,n,i){try{BMap}catch(o){throw Error("Baidu Map JS API is not ready yet!")}t.lang.inherits(a,BMap.Overlay,"TextIconOverlay"),this._position=e,this._text=n,this._options=i||{},this._styles=this._options["styles"]||[],!this._styles.length&&this._setupDefaultStyles()};return a.prototype._setupDefaultStyles=function(){for(var t,e=[53,56,66,78,90],n=0;t=e[n];n++)this._styles.push({url:i+n+"."+o,size:new BMap.Size(t,t)})},a.prototype.initialize=function(t){return this._map=t,this._domElement=document.createElement("div"),this._updateCss(),this._updateText(),this._updatePosition(),this._bind(),this._map.getPanes().markerMouseTarget.appendChild(this._domElement),this._domElement},a.prototype.draw=function(){this._map&&this._updatePosition()},a.prototype.getText=function(){return this._text},a.prototype.setText=function(t){!t||this._text&&this._text.toString()==t.toString()||(this._text=t,this._updateText(),this._updateCss(),this._updatePosition())},a.prototype.getPosition=function(){return this._position},a.prototype.setPosition=function(t){!t||this._position&&this._position.equals(t)||(this._position=t,this._updatePosition())},a.prototype.getStyleByText=function(t,e){var n=parseInt(t),i=parseInt(n/10);return i=Math.max(0,i),i=Math.min(i,e.length-1),e[i]},a.prototype._updateCss=function(){if(this._domElement){var t=this.getStyleByText(this._text,this._styles);this._domElement.style.cssText=this._buildCssText(t)}},a.prototype._updateText=function(){this._domElement&&(this._domElement.innerHTML=this._text)},a.prototype._updatePosition=function(){if(this._domElement&&this._position){var t=this._domElement.style,e=this._map.pointToOverlayPixel(this._position);e.x-=Math.ceil(parseInt(t.width)/2),e.y-=Math.ceil(parseInt(t.height)/2),t.left=e.x+"px",t.top=e.y+"px"}},a.prototype._buildCssText=function(e){var n=e["url"],i=e["size"],o=e["anchor"],a=e["offset"],s=e["textColor"]||"black",r=e["textSize"]||10,l=[];if(t.browser["ie"]<7)l.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+n+'");');else{l.push("background-image:url("+n+");");var c="0 0";a instanceof BMap.Size&&(c=a.width+"px "+a.height+"px"),l.push("background-position:"+c+";")}return i instanceof BMap.Size&&(o instanceof BMap.Size?(o.height>0&&o.height<i.height&&l.push("height:"+(i.height-o.height)+"px; padding-top:"+o.height+"px;"),o.width>0&&o.width<i.width&&l.push("width:"+(i.width-o.width)+"px; padding-left:"+o.width+"px;")):(l.push("height:"+i.height+"px; line-height:"+i.height+"px;"),l.push("width:"+i.width+"px; text-align:center;"))),l.push("cursor:pointer; color:"+s+"; position:absolute; font-size:"+r+"px; font-family:Arial,sans-serif; font-weight:bold"),l.join("")},a.prototype._bind=function(){if(this._domElement){var e=this,n=this._map,i=t.lang.Event;t.event.on(this._domElement,"mouseover",(function(t){e.dispatchEvent(o(t,new i("onmouseover")))})),t.event.on(this._domElement,"mouseout",(function(t){e.dispatchEvent(o(t,new i("onmouseout")))})),t.event.on(this._domElement,"click",(function(t){e.dispatchEvent(o(t,new i("onclick")))}))}function o(e,i){var o=e.srcElement||e.target,a=e.clientX||e.pageX,s=e.clientY||e.pageY;if(e&&i&&a&&s&&o){var r=t.dom.getPosition(n.getContainer());i.pixel=new BMap.Pixel(a-r.left,s-r.top),i.point=n.pixelToPoint(i.pixel)}return i}},a}))})),r=s&&"object"===typeof s&&"default"in s?s["default"]:s,l=function(t,e,n){e=c(e);var i=t.pointToPixel(e.getNorthEast()),o=t.pointToPixel(e.getSouthWest());i.x+=n,i.y-=n,o.x-=n,o.y+=n;var a=t.pixelToPoint(i),s=t.pixelToPoint(o);return new BMap.Bounds(s,a)},c=function(t){var e=h(t.getNorthEast().lng,-180,180),n=h(t.getSouthWest().lng,-180,180),i=h(t.getNorthEast().lat,-74,74),o=h(t.getSouthWest().lat,-74,74);return new BMap.Bounds(new BMap.Point(n,o),new BMap.Point(e,i))},h=function(t,e,n){return e&&(t=Math.max(t,e)),n&&(t=Math.min(t,n)),t},u=function(t){return"[object Array]"===Object.prototype.toString.call(t)},p=function(t,e){var n=-1;if(u(e))if(e.indexOf)n=e.indexOf(t);else for(var i,o=0;i=e[o];o++)if(i===t){n=o;break}return n},d=function(t,e){try{BMap}catch(a){throw Error("Baidu Map JS API is not ready yet!")}if(t){this._map=t,this._markers=[],this._clusters=[];var n=e||{};this._gridSize=n["gridSize"]||60,this._maxZoom=n["maxZoom"]||18,this._minClusterSize=n["minClusterSize"]||2,this._isAverageCenter=!1,void 0!=n["isAverageCenter"]&&(this._isAverageCenter=n["isAverageCenter"]),this._styles=n["styles"]||[];var i=this;this._map.addEventListener("zoomend",(function(){i._redraw()})),this._map.addEventListener("moveend",(function(){i._redraw()}));var o=n["markers"];u(o)&&this.addMarkers(o)}};function f(t){this._markerClusterer=t,this._map=t.getMap(),this._minClusterSize=t.getMinClusterSize(),this._isAverageCenter=t.isAverageCenter(),this._center=null,this._markers=[],this._gridBounds=null,this._isReal=!1,this._clusterMarker=new r(this._center,this._markers.length,{styles:this._markerClusterer.getStyles()})}return d.prototype.addMarkers=function(t){if(t.length){for(var e=0,n=t.length;e<n;e++)this._pushMarkerTo(t[e]);this._createClusters()}},d.prototype._pushMarkerTo=function(t){var e=p(t,this._markers);-1===e&&(t.isInCluster=!1,this._markers.push(t))},d.prototype.addMarker=function(t){this._pushMarkerTo(t),this._createClusters()},d.prototype._createClusters=function(){var t=this._map.getBounds();if(t.getCenter())for(var e,n=l(this._map,t,this._gridSize),i=0;e=this._markers[i];i++)!e.isInCluster&&n.containsPoint(e.getPosition())&&this._addToClosestCluster(e)},d.prototype._addToClosestCluster=function(t){for(var e=4e6,n=null,i=(t.getPosition(),0);s=this._clusters[i];i++){var o=s.getCenter();if(o){var a=this._map.getDistance(o,t.getPosition());a<e&&(e=a,n=s)}}if(n&&n.isMarkerInClusterBounds(t))n.addMarker(t);else{var s=new f(this);s.addMarker(t),this._clusters.push(s)}},d.prototype._clearLastClusters=function(){for(var t,e=0;t=this._clusters[e];e++)t.remove();this._clusters=[],this._removeMarkersFromCluster()},d.prototype._removeMarkersFromCluster=function(){for(var t,e=0;t=this._markers[e];e++)t.isInCluster=!1},d.prototype._removeMarkersFromMap=function(){for(var t,e=0;t=this._markers[e];e++){t.isInCluster=!1;var n=t.getLabel();this._map.removeOverlay(t),t.setLabel(n)}},d.prototype._removeMarker=function(t){var e=p(t,this._markers);return-1!==e&&(this._map.removeOverlay(t),this._markers.splice(e,1),!0)},d.prototype.removeMarker=function(t){var e=this._removeMarker(t);return e&&(this._clearLastClusters(),this._createClusters()),e},d.prototype.removeMarkers=function(t){for(var e=!1,n=0;n<t.length;n++){var i=this._removeMarker(t[n]);e=e||i}return e&&(this._clearLastClusters(),this._createClusters()),e},d.prototype.clearMarkers=function(){this._clearLastClusters(),this._removeMarkersFromMap(),this._markers=[]},d.prototype._redraw=function(){this._clearLastClusters(),this._createClusters()},d.prototype.getGridSize=function(){return this._gridSize},d.prototype.setGridSize=function(t){this._gridSize=t,this._redraw()},d.prototype.getMaxZoom=function(){return this._maxZoom},d.prototype.setMaxZoom=function(t){this._maxZoom=t,this._redraw()},d.prototype.getStyles=function(){return this._styles},d.prototype.setStyles=function(t){this._styles=t,this._redraw()},d.prototype.getMinClusterSize=function(){return this._minClusterSize},d.prototype.setMinClusterSize=function(t){this._minClusterSize=t,this._redraw()},d.prototype.isAverageCenter=function(){return this._isAverageCenter},d.prototype.getMap=function(){return this._map},d.prototype.getMarkers=function(){return this._markers},d.prototype.getClustersCount=function(){for(var t,e=0,n=0;t=this._clusters[n];n++)t.isReal()&&e++;return e},f.prototype.addMarker=function(t){if(this.isMarkerInCluster(t))return!1;if(this._center){if(this._isAverageCenter){var e=this._markers.length+1,n=(this._center.lat*(e-1)+t.getPosition().lat)/e,i=(this._center.lng*(e-1)+t.getPosition().lng)/e;this._center=new BMap.Point(i,n),this.updateGridBounds()}}else this._center=t.getPosition(),this.updateGridBounds();t.isInCluster=!0,this._markers.push(t);var o=this._markers.length;if(o<this._minClusterSize)return this._map.addOverlay(t),!0;if(o===this._minClusterSize)for(var a=0;a<o;a++){var s=this._markers[a].getLabel();this._markers[a].getMap()&&this._map.removeOverlay(this._markers[a]),this._markers[a].setLabel(s)}return this._map.addOverlay(this._clusterMarker),this._isReal=!0,this.updateClusterMarker(),!0},f.prototype.isMarkerInCluster=function(t){if(this._markers.indexOf)return-1!=this._markers.indexOf(t);for(var e,n=0;e=this._markers[n];n++)if(e===t)return!0;return!1},f.prototype.isMarkerInClusterBounds=function(t){return this._gridBounds.containsPoint(t.getPosition())},f.prototype.isReal=function(t){return this._isReal},f.prototype.updateGridBounds=function(){var t=new BMap.Bounds(this._center,this._center);this._gridBounds=l(this._map,t,this._markerClusterer.getGridSize())},f.prototype.updateClusterMarker=function(){if(this._map.getZoom()>this._markerClusterer.getMaxZoom()){this._clusterMarker&&this._map.removeOverlay(this._clusterMarker);for(var t,e=0;t=this._markers[e];e++)this._map.addOverlay(t)}else this._markers.length<this._minClusterSize?this._clusterMarker.hide():(this._clusterMarker.setPosition(this._center),this._clusterMarker.setText(this._markers.length),this._clusterMarker.addEventListener&&!this._clusterMarker._hasClickEvent&&this._clusterMarker.addEventListener("click",function(t){this._clusterMarker._hasClickEvent=!0,this._markers&&this._map.setViewport(this.getBounds())}.bind(this)))},f.prototype.remove=function(){for(var t=0;this._markers[t];t++){var e=this._markers[t].getLabel();this._markers[t].getMap()&&this._map.removeOverlay(this._markers[t]),this._markers[t].setLabel(e)}this._map.removeOverlay(this._clusterMarker),this._markers.length=0,delete this._markers},f.prototype.getBounds=function(){for(var t,e=new BMap.Bounds(this._center,this._center),n=0;t=this._markers[n];n++)e.extend(t.getPosition());return e},f.prototype.getCenter=function(){return this._center},d}))}).call(this,n("c8ba"))}}]);